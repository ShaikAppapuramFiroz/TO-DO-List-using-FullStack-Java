<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>To-Do List</title>
    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Animate.css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <!-- FontAwesome -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/js/all.min.js"></script>
</head>
<body class="bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 min-h-screen flex items-center justify-center p-6">

    <div class="bg-white shadow-2xl rounded-2xl w-full max-w-2xl p-6 animate__animated animate__fadeInDown">
        <h1 class="text-3xl font-extrabold text-center text-gray-800 mb-6 animate__animated animate__pulse animate__infinite">
            âœ¨ My To-Do List
        </h1>

        <!-- Add Button -->
        <div class="flex justify-center mb-6">
            <button onclick="toggleForm()" 
                class="bg-gradient-to-r from-green-400 to-green-600 text-white px-6 py-2 rounded-xl shadow-lg hover:scale-105 transform transition">
                <i class="fas fa-plus-circle"></i> Add Task
            </button>
        </div>

        <!-- Add Form (Initially Hidden) -->
        <div id="todo-form" class="hidden mb-6 animate__animated animate__fadeInUp">
            <form action="#" th:action="@{/todos}" th:object="${newTodo}" method="post"
                class="space-y-4 bg-gray-100 p-4 rounded-xl shadow-lg">
                
                <div>
                    <label class="block text-gray-700 font-semibold">Date:</label>
                    <input type="date" th:field="*{date}" class="w-full px-3 py-2 rounded-lg border focus:ring-2 focus:ring-purple-500">
                </div>
                
                <div>
                    <label class="block text-gray-700 font-semibold">Time:</label>
                    <input type="time" th:field="*{time}" class="w-full px-3 py-2 rounded-lg border focus:ring-2 focus:ring-purple-500">
                </div>
                
                <div>
                    <label class="block text-gray-700 font-semibold">Task:</label>
                    <input type="text" th:field="*{task}" placeholder="Enter your task..."
                        class="w-full px-3 py-2 rounded-lg border focus:ring-2 focus:ring-purple-500">
                </div>

                <button type="submit" 
                    class="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-6 py-2 rounded-xl shadow-lg hover:scale-105 transform transition">
                    <i class="fas fa-save"></i> Save Task
                </button>
            </form>
        </div>

        <!-- ToDo List -->
        <ul id="todo-list" class="space-y-3">
            <li th:each="todo : ${todos}" 
                class="flex items-center justify-between bg-gray-100 px-4 py-3 rounded-xl shadow-md animate__animated animate__fadeInUp">

                <span class="text-gray-700 font-medium">
                    <span th:text="${todo.date}"></span> | 
                    <span th:text="${todo.time}"></span> - 
                    <span th:text="${todo.task}"></span>
                </span>

                <a th:href="@{|/todos/delete/${todo.id}|}" 
                   class="text-red-500 hover:scale-125 transition">
                   <i class="fas fa-trash-alt"></i>
                </a>
            </li>
        </ul>
    </div>

    <script>
        function toggleForm() {
            const form = document.getElementById("todo-form");
            form.classList.toggle("hidden");
        }
    </script>
</body>
</html>
